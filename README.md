<<<<<<< HEAD
# Dairy-AI-Forecast-
An interactive web app using XGBoost &amp; the Gemini API to forecast weekly milk volume and fat percentage for US states. Users select a state, milk type (Organic, Grass-Fed), and forecast period to receive AI-generated predictions and analysis based on historical and weather data.
=======
Dairy AI Forecast 🐄🥛
Introduction
Dairy AI Forecast is a web application that uses machine learning and generative AI to predict weekly milk volume and milk fat percentage for various states across the U.S. The application features an interactive map where users can select a state, a type of milk production (e.g., Organic, Grass-Fed), and a forecast period to receive a detailed prediction.

The core of the project is a two-step prediction chain:

An XGBoost model predicts the future milk fat percentage based on historical data, weather, and milk type.

A second XGBoost model takes that fat percentage prediction as a feature, along with the other data, to predict the final milk volume.

The reasoning for each forecast is dynamically generated by Google's Gemini API, providing unique, context-aware explanations for each prediction.

Key Features
Interactive Map UI: A clean, modern interface built with Leaflet.js allows users to visually select states.

Dynamic Controls: Users can select the forecast period (in weeks) and the specific type of milk to get a tailored prediction.

Dual-Model Prediction Chain: Utilizes two fine-tuned XGBoost models for a more accurate and nuanced forecast.

Generative AI Reasoning: Integrates with the Google Gemini API to provide natural language explanations for the model's predictions.

Data-Driven: The models are trained on real-world weekly production data, enriched with historical weather information from Meteostat.

Tech Stack
Backend: Python, Flask

Machine Learning: scikit-learn, XGBoost, pandas, NumPy

Generative AI: Google Generative AI (Gemini API)

Data Fetching: Meteostat (for weather data)

Frontend: HTML, CSS, JavaScript, Leaflet.js

Project Structure
/Dairy-AI-Forecast
|-- app.py                      # Main Flask web server
|-- requirements.txt            # Python dependencies
|-- README.md                   # You are here!
|-- .env                        # For storing the API key (must be created locally)
|
|-- /models                     # Stores models, training scripts, and data
|   |-- milk_production_model.joblib
|   |-- model_columns.joblib
|   |-- fat_percentage_model.joblib
|   |-- fat_model_columns.joblib
|   |-- train_model_volume.py   # Script used to train the volume model
|   |-- train_model_fat.py      # Script used to train the fat model
|   |-- milk_data.xlsx          # Training data for milk volume
|   |-- Fat_Percentage.xlsx     # Training data for milk fat
|
|-- /templates
|   |-- index.html              # The frontend HTML file
|
|-- /static
|   |-- style.css               # The CSS for styling the frontend

Setup and Installation
1. Clone the Repository
git clone [https://github.com/your-username/Dairy-AI-Forecast.git](https://github.com/your-username/Dairy-AI-Forecast.git)
cd Dairy-AI-Forecast

2. Create and Activate a Virtual Environment
It's highly recommended to use a virtual environment to manage project dependencies.

# For macOS/Linux
python3 -m venv .venv
source .venv/bin/activate

# For Windows
python -m venv .venv
.\.venv\Scripts\activate

3. Install Dependencies
Install all the necessary Python libraries from the requirements.txt file.

pip install -r requirements.txt

4. Set Up Your Gemini API Key
a. Create a .env file in the root of the project folder.
b. Add your API key to this file:

GEMINI_API_KEY="YOUR_API_KEY_HERE"

5. Data and Training Scripts
The pre-trained models are ready to use. The original training data (milk_data.xlsx, Fat_Percentage.xlsx) and the Python scripts used to train the models (train_model_volume.py, train_model_fat.py) are located in the /models folder for reference or future retraining.

Running the Application
This repository includes pre-trained models, so you can run the web application directly after setting it up.

1. Run the Flask Web Server
Start the web application by running the main app.py script from the root directory.

python app.py

2. Use the Application
Open your web browser and navigate to http://12.0.0.1:5000 to use the application.
>>>>>>> ce6aa9f (First Version)
